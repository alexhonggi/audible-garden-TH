# Audible Garden Turntable 프로젝트 주요 변경 사항 요약 (v2.0)

안녕하세요, 동료 개발자님.
기존의 명령줄 기반 턴테이블 스크립트(`live_camera_edge_detection.py`)를 대대적으로 개선한 GUI 애플리케이션 개발을 완료하여 주요 변경 사항을 공유합니다.

---

### 1. ✨ 주요 신규 기능

#### 1.1. PyQt5 기반 GUI 애플리케이션 (`turntable_gui.py`)
- **직관적인 제어**: 기존의 모든 명령줄 옵션(RPM, 모드, 스케일 등)을 실시간으로 제어할 수 있는 컨트롤 패널을 구현했습니다.
- **안정적인 영상 처리**: 카메라 처리를 별도 스레드(`CameraThread`)로 분리하여 GUI의 응답성 저하 문제를 해결했습니다.
- **실시간 정보 오버레이**: 비디오 화면에 현재 상태(RPM, ROI, FPS, Zodiac 정보 등)가 모두 표시됩니다.

#### 1.2. 마우스를 이용한 ROI 설정
- '마우스로 ROI 설정' 버튼을 통해 사용자가 직접 비디오 화면에서 ROI(관심 영역)를 지정할 수 있습니다.
- 드래그하는 동안 선택 중인 영역이 반투명한 도형으로 실시간 표시되어 사용자 경험을 크게 향상시켰습니다.

#### 1.3. 실제 회전 속도(RPM) 감지 (`--detect_rpm y`)
- ORB 특징점 매칭을 통해 실제 회전하는 물체의 RPM을 감지하는 `RotationDetector` 클래스를 구현했습니다.
- GUI에서는 체크박스 하나로 고정 RPM 모드와 실제 감지 모드를 전환할 수 있습니다.

#### 1.4. 악보 저장 및 재생 기능 고도화
- **향상된 저장 포맷**: 첫 바퀴 회전 데이터를 저장할 때, 기존의 JSON 뿐만 아니라 **파노라마 이미지(`score.png`)**와 **원본 픽셀 데이터(`score.npy`)**도 함께 저장하여 시각적 확인 및 데이터 분석이 용이해졌습니다.
- **체계적인 관리**: 생성된 모든 악보 파일은 `images/` 폴더 내에 `타임스탬프_모드_스케일_RPM` 형식의 세션별 폴더로 깔끔하게 정리됩니다.
- **GUI 연동**: '저장된 악보 불러오기' 버튼을 통해 어떤 세션이든 쉽게 로드하고, '재생' 버튼으로 불러온 악보와 실시간 연주를 자유롭게 오갈 수 있습니다.

---

### 2. 🛠️ 핵심 개선 사항

- **Zodiac 모드 로직 개선**: 기존의 시간 기반이 아닌, 실제 '회전 각도'에 따라 Zodiac 섹션이 변경되도록 수정하여 훨씬 직관적인 동작을 보장합니다.
- **코드 안정화 및 리팩토링**:
  - `utils` 폴더를 만들어 카메라, 오디오(MIDI), OSC 관련 유틸리티 함수를 모듈화했습니다.
  - GUI 코드의 데이터 처리 로직(`process_logic`)과 화면 그리기 로직(`update_frame`)을 명확히 분리하여 안정성과 유지보수성을 높였습니다.
  - 발생 가능한 여러 버그(JSON 직렬화, 값 할당 오류 등)를 수정하여 프로그램의 강건함을 확보했습니다.
- **상세한 문서화**:
  - `README.md`: 프로젝트 개요, 설치, 실행법, 옵션 설명.
  - `GUI_MANUAL.md` (한/영): GUI의 각 기능에 대한 상세한 사용자 매뉴얼.
  - `test_commands.txt`: 주요 기능을 테스트할 수 있는 명령어 모음.

이제 `turntable_gui.py`를 실행하는 것만으로 모든 기능을 활용할 수 있습니다.
감사합니다. 